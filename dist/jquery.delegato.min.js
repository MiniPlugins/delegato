/*! Delegato - v0.1.0 - 2015-01-22
* https://github.com/MiniPlugins/delegato
* Copyright (c) 2015 ; Licensed MIT */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(){!function(a,b,c,d){function e(b,c){this.element=b,this.settings=a.extend({},g,c),this.actions={},this.init()}var f="emissary",g={};e.prototype={init:function(){var b=this.actions;a(this.element).on("click","[data-action]",function(c){var d=a(this),e=d.data("action");d.is("input")?"toggleClass"===e?e=d.is(":checked")?"addClass":"removeClass":"toggle"===e&&(e=d.is(":checked")?"show":"hide"):c.preventDefault();var f=d.data("target")||d.attr("href"),g=f.split("|"),h=g.map(function(b){var c=function(b){var c;try{c=a(b)}catch(d){return!1}return c};if(b)if("parent"===b)b=d.parent();else if("parent-next"===b)b=d.parent().next();else if("next"===b)b=d.next();else{var e=c(b);e.length&&(b=e)}else b=d;return"null"===b?null:b});a.each(e.split("|"),function(a,c){var e=c.split(":"),f=e.shift(),g=h[0];if(h.length>1&&(g=h[a]?h[a]:h[0]),e.unshift(g),!b[f])throw new Error("Action not registered");b[f].apply(d,e)})})},register:function(a,b){this.actions[a]=b},unregister:function(a){this.actions[a]&&delete this.actions[a]}},a.fn[f]=function(b){if(b===d||"object"==typeof b)return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))});if("string"==typeof b&&"_"!==b[0]&&"init"!==b){var c,g=arguments;return this.each(function(){var d=a.data(this,"plugin_"+f);d instanceof e&&"function"==typeof d[b]&&(c=d[b].apply(d,Array.prototype.slice.call(g,1))),"destroy"===b&&a.data(this,"plugin_"+f,null)}),c!==d?c:this}};var h;a[f]=function(){return h||(h=a("body")),a.fn[f].apply(h,Array.prototype.slice.call(arguments,0))}}(jQuery,window,document)});